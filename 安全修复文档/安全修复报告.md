# ğŸ” APIå¯†é’¥æ³„éœ²å®‰å…¨ä¿®å¤æŠ¥å‘Š

**æ—¥æœŸ**: 2025å¹´10æœˆ6æ—¥  
**é¡¹ç›®**: Materials Project API æ–‡æ¡£  
**ä»“åº“**: https://github.com/luffysolution-svg/materials-project-api-docs  
**ä¸¥é‡ç¨‹åº¦**: âš ï¸ é«˜å±

---

## ğŸ“‹ æ‰§è¡Œæ‘˜è¦

åœ¨é¡¹ç›® `MPå®˜æ–¹è°ƒç”¨æ–‡æ¡£ç¤ºä¾‹` ä¸­å‘ç° Materials Project APIå¯†é’¥æš´éœ²åœ¨Gitæäº¤å†å²ä¸­ã€‚å·²é‡‡å–ç´§æ€¥æªæ–½ä¿®å¤æ­¤å®‰å…¨é—®é¢˜ã€‚

---

## ğŸ” é—®é¢˜è¯¦æƒ…

### æš´éœ²ä¿¡æ¯
- **æš´éœ²çš„å¯†é’¥**: `YOUR_EXPOSED_API_KEY_HERE` (å·²éšè—å®é™…å€¼)
- **æš´éœ²æ–‡ä»¶**: `01-APIå®Œæ•´ä½¿ç”¨æŒ‡å—.md` (ç¬¬84è¡Œ)
- **é¦–æ¬¡æäº¤**: commit `c97c51c` - Initial commit
- **æš´éœ²æ—¶é•¿**: ä»é¦–æ¬¡æäº¤åˆ°2025å¹´10æœˆ6æ—¥
- **å½±å“èŒƒå›´**: æ‰€æœ‰å…‹éš†è¯¥ä»“åº“çš„ç”¨æˆ·éƒ½å¯è§

### æ½œåœ¨é£é™©
1. âœ… **Materials Project APIæ»¥ç”¨** - å¯†é’¥å¯èƒ½è¢«æœªæˆæƒä½¿ç”¨
2. âœ… **é…é¢æ¶ˆè€—** - APIè°ƒç”¨é…é¢å¯èƒ½è¢«ä»–äººæ¶ˆè€—
3. âœ… **æ•°æ®è®¿é—®** - ä»–äººå¯èƒ½è®¿é—®ä½ è´¦æˆ·å…³è”çš„æ•°æ®

---

## âœ… å·²å®Œæˆçš„ä¿®å¤æªæ–½

### 1. æ–‡æ¡£ä¿®å¤ âœ“
- [x] ä» `01-APIå®Œæ•´ä½¿ç”¨æŒ‡å—.md` ä¸­ç§»é™¤æ˜æ–‡APIå¯†é’¥
- [x] æ›¿æ¢ä¸ºå ä½ç¬¦ `YOUR_API_KEY_HERE`
- [x] æ·»åŠ å®‰å…¨æç¤ºä¿¡æ¯

**ä¿®æ”¹å†…å®¹**:
```diff
- **ç¤ºä¾‹å¯†é’¥**: `8Fv89Xd3xCyJxw9oyc2srbKbHBqA9MGK`
+ **ç¤ºä¾‹å¯†é’¥æ ¼å¼**: `YOUR_API_KEY_HERE` (æ›¿æ¢ä¸ºæ‚¨çš„çœŸå®APIå¯†é’¥)
+ 
+ > âš ï¸ **å®‰å…¨æç¤º**: è¯·å‹¿åœ¨å…¬å¼€æ–‡æ¡£æˆ–ä»£ç ä¸­æš´éœ²çœŸå®çš„APIå¯†é’¥!
```

**æäº¤è®°å½•**:
- `bba6613` - å®‰å…¨ä¿®å¤: ç§»é™¤æ–‡æ¡£ä¸­æš´éœ²çš„APIå¯†é’¥
- `79abce8` - Security: ä»æ‰€æœ‰æ–‡ä»¶ä¸­ç§»é™¤æš´éœ²çš„APIå¯†é’¥ï¼Œæ›¿æ¢ä¸ºå ä½ç¬¦

### 2. Gitå†å²æ¸…ç† âœ“
- [x] ä½¿ç”¨ `git filter-branch` é‡å†™æ‰€æœ‰Gitå†å²
- [x] ä»æ‰€æœ‰æäº¤ä¸­æ›¿æ¢APIå¯†é’¥ä¸ºå ä½ç¬¦
- [x] æ¸…ç† reflog å’Œè¿è¡Œåƒåœ¾å›æ”¶
- [x] åˆ é™¤å¤‡ä»½å¼•ç”¨

**æ‰§è¡Œçš„å‘½ä»¤**:
```bash
# åˆ›å»ºå¤‡ä»½
git branch backup-before-cleanup

# æ¸…ç†å†å²
git filter-branch -f --tree-filter \
  "if [ -f '01-APIå®Œæ•´ä½¿ç”¨æŒ‡å—.md' ]; then \
    sed -i 's/8Fv89Xd3xCyJxw9oyc2srbKbHBqA9MGK/YOUR_API_KEY_HERE/g' '01-APIå®Œæ•´ä½¿ç”¨æŒ‡å—.md'; \
  fi" \
  --tag-name-filter cat -- --all

# æ¸…ç†å¼•ç”¨
git reflog expire --expire=now --all
git gc --prune=now --aggressive
```

**æ¸…ç†ç»“æœ**:
- å¤„ç†çš„æäº¤æ•°: 8ä¸ª
- é‡å†™çš„åˆ†æ”¯: main, backup-before-cleanup, origin/main
- çŠ¶æ€: âœ“ æˆåŠŸ

### 3. éªŒè¯ âœ“
- [x] æ£€æŸ¥å½“å‰æ–‡æ¡£ä¸åŒ…å«çœŸå®APIå¯†é’¥
- [x] æœç´¢Gitå†å²ç¡®è®¤å¯†é’¥å·²ç§»é™¤
- [x] éªŒè¯æ‰€æœ‰æ–‡ä»¶éƒ½å·²å®‰å…¨

**éªŒè¯å‘½ä»¤**:
```powershell
# åœ¨æœ€æ–°æäº¤ä¸­æ£€æŸ¥
git show HEAD:"01-APIå®Œæ•´ä½¿ç”¨æŒ‡å—.md" | Select-String "8Fv89Xd3xCyJxw9oyc2srbKbHBqA9MGK"
# ç»“æœ: æ— åŒ¹é… âœ“

# åœ¨æœ€æ—©æäº¤ä¸­æ£€æŸ¥
git show c97c51c:"01-APIå®Œæ•´ä½¿ç”¨æŒ‡å—.md" | Select-String "ç¤ºä¾‹å¯†é’¥"
# ç»“æœ: **ç¤ºä¾‹å¯†é’¥**: `YOUR_API_KEY_HERE` âœ“
```

### 4. åˆ›å»ºå®‰å…¨å·¥å…·å’Œæ–‡æ¡£ âœ“
- [x] `APIå¯†é’¥æ³„éœ²åº”æ€¥å¤„ç†.md` - å®Œæ•´çš„åº”æ€¥å¤„ç†æŒ‡å—
- [x] `æ¸…ç†APIå¯†é’¥.ps1` - PowerShellè‡ªåŠ¨åŒ–æ¸…ç†è„šæœ¬
- [x] `filter-script.sh` - Bashæ¸…ç†è„šæœ¬
- [x] `éƒ¨ç½²åˆ°GitHub.ps1` - å®‰å…¨éƒ¨ç½²è„šæœ¬
- [x] `å®‰å…¨ä¿®å¤æŠ¥å‘Š.md` - æœ¬æ–‡æ¡£

---

## â³ å¾…å®Œæˆçš„å…³é”®æ­¥éª¤

### ğŸš¨ ç´§æ€¥ä»»åŠ¡ï¼ˆç«‹å³æ‰§è¡Œï¼‰

#### 1. æ’¤é”€æš´éœ²çš„APIå¯†é’¥
**çŠ¶æ€**: âš ï¸ å¾…æ‰§è¡Œ  
**ä¼˜å…ˆçº§**: ğŸ”´ æœ€é«˜

**æ­¥éª¤**:
1. è®¿é—® https://materialsproject.org/
2. ç™»å½•è´¦å·
3. è¿›å…¥ Dashboard â†’ API
4. æ‰¾åˆ°å¯†é’¥ `YOUR_EXPOSED_API_KEY_HERE`
5. ç‚¹å‡» **Revoke** (æ’¤é”€)
6. ç”Ÿæˆæ–°çš„APIå¯†é’¥
7. å®‰å…¨ä¿å­˜æ–°å¯†é’¥ï¼ˆä½¿ç”¨å¯†ç ç®¡ç†å™¨ï¼‰

**é‡è¦æ€§**: â­â­â­â­â­  
å³ä½¿Gitå†å²å·²æ¸…ç†ï¼Œæ—§å¯†é’¥åœ¨äº’è”ç½‘ä¸Šå¯èƒ½å·²è¢«ç¼“å­˜æˆ–æŠ“å–ã€‚å¿…é¡»æ’¤é”€ï¼

#### 2. éƒ¨ç½²åˆ°GitHub
**çŠ¶æ€**: âš ï¸ å¾…æ‰§è¡Œï¼ˆç½‘ç»œé—®é¢˜ï¼‰  
**ä¼˜å…ˆçº§**: ğŸ”´ é«˜

**æ‰§è¡Œæ–¹å¼**:

**é€‰é¡¹A: ä½¿ç”¨éƒ¨ç½²è„šæœ¬**
```powershell
cd "h:\material project\MPå®˜æ–¹è°ƒç”¨æ–‡æ¡£ç¤ºä¾‹"
.\éƒ¨ç½²åˆ°GitHub.ps1
```

**é€‰é¡¹B: æ‰‹åŠ¨æ¨é€**
```powershell
cd "h:\material project\MPå®˜æ–¹è°ƒç”¨æ–‡æ¡£ç¤ºä¾‹"

# æ£€æŸ¥çŠ¶æ€
git status
git log --oneline -n 5

# å¼ºåˆ¶æ¨é€
git push origin main --force
git push origin --tags --force
```

**å¯èƒ½é‡åˆ°çš„é—®é¢˜**:
1. **ç½‘ç»œè¿æ¥é—®é¢˜**: æ£€æŸ¥ç½‘ç»œæˆ–ä½¿ç”¨VPN
2. **èº«ä»½éªŒè¯å¤±è´¥**: éœ€è¦Personal Access Token
3. **æƒé™é—®é¢˜**: ç¡®è®¤GitHubè´¦æˆ·æƒé™

**èº«ä»½éªŒè¯è®¾ç½®**:
```powershell
# ä½¿ç”¨Personal Access Token
git remote set-url origin https://YOUR_TOKEN@github.com/luffysolution-svg/materials-project-api-docs.git

# æˆ–ä½¿ç”¨SSH
git remote set-url origin git@github.com:luffysolution-svg/materials-project-api-docs.git
```

#### 3. éªŒè¯GitHubä¸Šçš„ä¿®å¤
**çŠ¶æ€**: âš ï¸ å¾…æ‰§è¡Œ  
**ä¼˜å…ˆçº§**: ğŸŸ¡ ä¸­

éƒ¨ç½²æˆåŠŸåï¼š
1. è®¿é—® https://github.com/luffysolution-svg/materials-project-api-docs
2. æ£€æŸ¥ `01-APIå®Œæ•´ä½¿ç”¨æŒ‡å—.md` æ–‡ä»¶
3. æŸ¥çœ‹æäº¤å†å²ï¼Œç¡®è®¤APIå¯†é’¥å·²ç§»é™¤
4. ä½¿ç”¨GitHubæœç´¢åŠŸèƒ½æœç´¢å¯†é’¥ï¼ˆåº”æ— ç»“æœï¼‰

#### 4. æ›´æ–°æœ¬åœ°é…ç½®
**çŠ¶æ€**: âš ï¸ å¾…æ‰§è¡Œ  
**ä¼˜å…ˆçº§**: ğŸŸ¡ ä¸­

åœ¨ `h:\material project\åŠå¯¼ä½“ä¿¡æ¯æŸ¥è¯¢\config.py` ä¸­ï¼š
```python
# ä½¿ç”¨æ–°ç”Ÿæˆçš„APIå¯†é’¥
API_KEY = "ä½ çš„æ–°APIå¯†é’¥"
```

**æ³¨æ„**: 
- ä¸è¦æäº¤ `config.py` åˆ°Git
- `.gitignore` å·²æ­£ç¡®é…ç½®æ’é™¤æ­¤æ–‡ä»¶

---

## ğŸ“Š å½±å“åˆ†æ

### æš´éœ²èŒƒå›´
- âœ… **æœ¬åœ°ä»“åº“**: å·²æ¸…ç†
- âš ï¸ **GitHubè¿œç¨‹ä»“åº“**: å¾…æ›´æ–°
- âš ï¸ **å…‹éš†çš„ä»“åº“**: éœ€è¦é€šçŸ¥é‡æ–°å…‹éš†
- âš ï¸ **æœç´¢å¼•æ“ç¼“å­˜**: å¯èƒ½éœ€è¦æ—¶é—´è‡ªç„¶è¿‡æœŸ

### æ•°æ®æ³„éœ²æ—¶é—´çº¿
```
2025-10-06 16:25 - é¦–æ¬¡æäº¤åŒ…å«APIå¯†é’¥
2025-10-06 16:27 - æ¨é€åˆ°GitHub (origin/main)
2025-10-06 18:57 - å‘ç°é—®é¢˜å¹¶å¼€å§‹ä¿®å¤
2025-10-06 18:59 - å®ŒæˆGitå†å²æ¸…ç†
2025-10-06 19:00+ - ç­‰å¾…æ¨é€åˆ°GitHub
```

**æš´éœ²æ—¶é•¿**: çº¦2å°æ—¶35åˆ†é’Ÿ

---

## ğŸ”’ é¢„é˜²æªæ–½

### å·²å®æ–½çš„ä¿æŠ¤

#### 1. .gitignoreé…ç½® âœ“
```gitignore
# é…ç½®æ–‡ä»¶ï¼ˆåŒ…å«API Keyï¼‰
config.py

# ç¯å¢ƒå˜é‡æ–‡ä»¶
.env
.env.local
*.key
```

#### 2. æ–‡æ¡£å®‰å…¨æç¤º âœ“
åœ¨æ‰€æœ‰æ–‡æ¡£ä¸­æ·»åŠ äº†æ˜æ˜¾çš„å®‰å…¨è­¦å‘Šï¼š
```markdown
> âš ï¸ **å®‰å…¨æç¤º**: è¯·å‹¿åœ¨å…¬å¼€æ–‡æ¡£æˆ–ä»£ç ä¸­æš´éœ²çœŸå®çš„APIå¯†é’¥ï¼
```

### å»ºè®®çš„é¢å¤–æªæ–½

#### 1. ä½¿ç”¨ç¯å¢ƒå˜é‡
```python
import os
from dotenv import load_dotenv

load_dotenv()
API_KEY = os.getenv("MATERIALS_PROJECT_API_KEY")
```

#### 2. ä½¿ç”¨git-secrets
```bash
# å®‰è£…git-secrets
# https://github.com/awslabs/git-secrets

# é…ç½®é˜²æ­¢å¯†é’¥æäº¤
git secrets --register-aws
git secrets --install
```

#### 3. GitHub Secret Scanning
- GitHubä¼šè‡ªåŠ¨æ‰«ææäº¤ä¸­çš„å¯†é’¥
- ç¡®ä¿åœ¨ä»“åº“è®¾ç½®ä¸­å¯ç”¨æ­¤åŠŸèƒ½

#### 4. Pre-commit Hooks
åˆ›å»º `.git/hooks/pre-commit`:
```bash
#!/bin/bash
# æ£€æŸ¥æ˜¯å¦åŒ…å«æ•æ„Ÿä¿¡æ¯
if git diff --cached | grep -i "API_KEY.*=.*['\"].*['\"]"; then
    echo "é”™è¯¯: æ£€æµ‹åˆ°å¯èƒ½çš„APIå¯†é’¥ï¼"
    exit 1
fi
```

---

## ğŸ“ æ£€æŸ¥æ¸…å•

### ç´§æ€¥ä¿®å¤ (å·²å®Œæˆ)
- [x] è¯†åˆ«æš´éœ²çš„APIå¯†é’¥
- [x] ä»æ–‡æ¡£ä¸­ç§»é™¤æ˜æ–‡å¯†é’¥
- [x] æ¸…ç†Gitå†å²
- [x] éªŒè¯æœ¬åœ°ä¿®å¤
- [x] åˆ›å»ºåº”æ€¥å¤„ç†æ–‡æ¡£

### å¾…å®Œæˆä»»åŠ¡
- [ ] **æ’¤é”€æš´éœ²çš„APIå¯†é’¥** (æœ€é‡è¦ï¼)
- [ ] **éƒ¨ç½²åˆ°GitHub**
- [ ] éªŒè¯GitHubä¸Šçš„ä¿®å¤
- [ ] ç”Ÿæˆæ–°APIå¯†é’¥
- [ ] æ›´æ–°æœ¬åœ°config.py
- [ ] æµ‹è¯•æ–°å¯†é’¥å¯ç”¨æ€§

### é•¿æœŸæ”¹è¿›
- [ ] å®æ–½ç¯å¢ƒå˜é‡ç®¡ç†
- [ ] å®‰è£…git-secretså·¥å…·
- [ ] è®¾ç½®pre-commit hooks
- [ ] å¯ç”¨GitHub Secret Scanning
- [ ] å›¢é˜Ÿå®‰å…¨åŸ¹è®­

---

## ğŸ“š ç›¸å…³èµ„æº

### å·¥å…·å’Œè„šæœ¬
1. `éƒ¨ç½²åˆ°GitHub.ps1` - è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬
2. `APIå¯†é’¥æ³„éœ²åº”æ€¥å¤„ç†.md` - è¯¦ç»†å¤„ç†æŒ‡å—
3. `æ¸…ç†APIå¯†é’¥.ps1` - PowerShellæ¸…ç†å·¥å…·
4. `filter-script.sh` - Bashæ¸…ç†è„šæœ¬

### å¤–éƒ¨é“¾æ¥
- [Materials Project Dashboard](https://materialsproject.org/dashboard)
- [GitHub Security Best Practices](https://docs.github.com/en/code-security)
- [BFG Repo-Cleaner](https://rtyley.github.io/bfg-repo-cleaner/)
- [git-secrets](https://github.com/awslabs/git-secrets)

---

## ğŸ‘¤ è´£ä»»äºº

**æ‰§è¡Œäºº**: Luffy.Solution  
**é‚®ç®±**: luffysolution@gmail.com  
**GitHub**: @luffysolution-svg

---

## ğŸ“ åç»­æ”¯æŒ

å¦‚æœéœ€è¦å¸®åŠ©ï¼š
1. æŸ¥çœ‹ `APIå¯†é’¥æ³„éœ²åº”æ€¥å¤„ç†.md`
2. è¿è¡Œ `éƒ¨ç½²åˆ°GitHub.ps1`
3. è”ç³»GitHubæ”¯æŒï¼ˆå¦‚æœéœ€è¦å®Œå…¨åˆ é™¤æ•æ„Ÿæäº¤ï¼‰

---

**æŠ¥å‘Šç”Ÿæˆæ—¶é—´**: 2025å¹´10æœˆ6æ—¥ 19:05  
**æœ€åæ›´æ–°**: 2025å¹´10æœˆ6æ—¥ 19:05

---

## âœ… ç»“è®º

æœ¬æ¬¡å®‰å…¨äº‹ä»¶å·²å¾—åˆ°åŠæ—¶å¤„ç†ï¼š
1. âœ… æœ¬åœ°Gitå†å²å·²å®Œå…¨æ¸…ç†
2. âœ… æ‰€æœ‰æ–‡æ¡£å·²æ›´æ–°ç§»é™¤æ•æ„Ÿä¿¡æ¯
3. âœ… åˆ›å»ºäº†å®Œå–„çš„åº”æ€¥å¤„ç†å·¥å…·
4. âš ï¸ **å…³é”®**: å¿…é¡»ç«‹å³æ’¤é”€æš´éœ²çš„APIå¯†é’¥å¹¶å¼ºåˆ¶æ¨é€åˆ°GitHub

**ä¸‹ä¸€æ­¥è¡ŒåŠ¨**: æŒ‰ç…§"å¾…å®Œæˆçš„å…³é”®æ­¥éª¤"éƒ¨åˆ†æ‰§è¡Œå‰©ä½™ä»»åŠ¡ã€‚

---

**ğŸ” è¯·è®°ä½**: å®‰å…¨æ˜¯ä¸€ä¸ªæŒç»­çš„è¿‡ç¨‹ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§çš„ä»»åŠ¡ï¼
